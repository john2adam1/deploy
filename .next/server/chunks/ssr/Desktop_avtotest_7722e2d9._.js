module.exports=[57773,a=>{a.n(a.i(27074))},51830,a=>{a.n(a.i(63293))},51751,a=>{a.n(a.i(94204))},37275,a=>{a.n(a.i(71218))},42868,a=>{a.n(a.i(40770))},80076,a=>{"use strict";function b(a){let b=new Date,c=new Date(a.trial_end),d=a.subscription_end?new Date(a.subscription_end):null;return c>b||null!==d&&d>b}a.s(["hasActiveAccess",()=>b])},72973,a=>{"use strict";let b=(0,a.i(32397).registerClientReference)(function(){throw Error("Attempted to call CountdownTimer() from the server but CountdownTimer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/avtotest/components/countdown-timer.tsx <module evaluation>","CountdownTimer");a.s(["CountdownTimer",0,b])},83183,a=>{"use strict";let b=(0,a.i(32397).registerClientReference)(function(){throw Error("Attempted to call CountdownTimer() from the server but CountdownTimer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/avtotest/components/countdown-timer.tsx","CountdownTimer");a.s(["CountdownTimer",0,b])},74360,a=>{"use strict";a.i(72973);var b=a.i(83183);a.n(b)},58079,a=>{"use strict";var b=a.i(43798);a.i(74102);var c=a.i(99961),d=a.i(25803),e=a.i(35064),f=a.i(74360),g=a.i(26051),h=a.i(73666),i=a.i(24178);let j=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));j.displayName="Card";let k=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...c}));k.displayName="CardHeader";let l=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("font-semibold leading-none tracking-tight",a),...c}));l.displayName="CardTitle";let m=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("text-sm text-muted-foreground",a),...c}));m.displayName="CardDescription";let n=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("p-6 pt-0",a),...c}));n.displayName="CardContent",h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter";var o=a.i(80076),p=a.i(12535);let q=(0,p.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),r=(0,p.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var s=a.i(37404);let t=(0,a.i(93847).cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=h.forwardRef(({className:a,variant:c,...d},e)=>(0,b.jsx)("div",{ref:e,role:"alert",className:(0,i.cn)(t({variant:c}),a),...d}));u.displayName="Alert",h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...c})).displayName="AlertTitle";let v=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...c}));async function w(){let a=await (0,d.getSupabaseServerClient)(),{data:{user:h}}=await a.auth.getUser();h||(0,c.redirect)("/login");let{data:i}=await a.from("users").select("*").eq("id",h.id).single();i||(0,c.redirect)("/login");let p=(0,o.hasActiveAccess)(i),t=new Date(i.trial_end),w=i.subscription_end?new Date(i.subscription_end):null,x=new Date,{data:y}=await a.from("categories").select("*").order("title");return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.Navbar,{userEmail:h.email,isAdmin:"admin"===i.role}),(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome back!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Choose a test category to begin practicing"})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[!p&&(0,b.jsxs)(u,{children:[(0,b.jsx)(q,{className:"h-4 w-4"}),(0,b.jsxs)(v,{children:[(0,b.jsx)("div",{className:"font-semibold mb-2",children:"Your access has expired"}),(0,b.jsx)("p",{className:"text-sm mb-3",children:"Purchase a subscription to continue testing"}),(0,b.jsx)(g.Button,{asChild:!0,size:"sm",children:(0,b.jsxs)("a",{href:"https://t.me/admin",target:"_blank",rel:"noopener noreferrer",children:["Contact Telegram Admin",(0,b.jsx)(r,{className:"ml-2 h-4 w-4"})]})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Test Categories"}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[y?.map(a=>(0,b.jsxs)(j,{className:"hover:border-primary transition-colors",children:[(0,b.jsxs)(k,{children:[(0,b.jsx)(l,{children:a.title}),(0,b.jsx)(m,{children:"Practice test available"})]}),(0,b.jsx)(n,{children:(0,b.jsx)(g.Button,{asChild:!0,className:"w-full",disabled:!p,children:(0,b.jsx)(s.default,{href:`/test/${a.id}`,children:"Start Test"})})})]},a.id)),!y?.length&&(0,b.jsx)("div",{className:"col-span-2 text-center py-12 text-muted-foreground",children:"No test categories available yet"})]})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(j,{children:[(0,b.jsx)(k,{children:(0,b.jsx)(l,{children:"Account Status"})}),(0,b.jsxs)(n,{className:"space-y-4",children:[t>x&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:"Free Trial Active"}),(0,b.jsx)(f.CountdownTimer,{endTime:i.trial_end,label:"Trial ends in"})]}),w&&w>x&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:"Subscription Active"}),(0,b.jsx)(f.CountdownTimer,{endTime:i.subscription_end,label:"Subscription ends in"})]}),!p&&(0,b.jsxs)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-destructive mb-2",children:"Access Expired"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Contact admin to purchase subscription"}),(0,b.jsx)(g.Button,{asChild:!0,size:"sm",className:"w-full",children:(0,b.jsx)("a",{href:"https://t.me/admin",target:"_blank",rel:"noopener noreferrer",children:"Contact Telegram Admin"})})]})]})]})})]})]})]})}v.displayName="AlertDescription",a.s(["default",()=>w],58079)}];

//# sourceMappingURL=Desktop_avtotest_7722e2d9._.js.map